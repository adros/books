<h2>Books</h2>

<div *ngIf="!books">Loading...</div>

<div *ngIf="books">
  
  <table class="table table-striped" [mfData]="books" #mf="mfDataTable" [mfRowsOnPage]="10">
    <thead>
      <tr>
        <th style="width: 20%">
          <mfDefaultSorter by="name">Name</mfDefaultSorter>
        </th>
        <th style="width: 40%">
          <mfDefaultSorter by="authors[0].firstName">Authors</mfDefaultSorter>
        </th>
        <th style="width: 10%">
          <mfDefaultSorter by="pages">Pages</mfDefaultSorter>
        </th>
        <th style="width: 20%">
          <mfDefaultSorter by="genre.name">Genre</mfDefaultSorter>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of mf.data">
        <td><a routerLink="/books/{{item.id}}">{{item.name}}</a></td>
        <td>
          <span *ngFor="let auth of item.authors">
              <a routerLink="/books/{{auth.id}}">{{auth.firstName}} {{auth.lastName}}</a>
          </span>
        </td>
        <td class="text-right">{{item.pages}}</td>
        <td>{{item.genre.name}}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="5">
          <mfBootstrapPaginator [rowsOnPageSet]="[5,10,15]"></mfBootstrapPaginator>
        </td>
      </tr>
    </tfoot>
  </table>

</div>
